{% extends "Cuenta/cuenta.html" %} 


{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="{%static 'CSS/Style Index.css' %}"></link>
    


    <title>Tienda Pinponcitos</title>
</head>
<body>
    </div>
        <nav class=" navbar navbar-expand-lg navbar-light  ">  
            <div class="container-nav">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbar-star" aria-controls="navbar-star" aria-expanded="false"
                        aria-label="toggle navigation">
                        <span class="navbar-toggler-icon"></span>        
                </button>
                <div class = "collapse navbar-collapse " id="navbar-star">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link"><i class="bi bi-house-door-fill"></i> Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'Nosotros' %}"><i class="bi bi-people-fill"></i> Nosotros</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'Galeria' %}"><i class="bi bi-collection"></i> Galería</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'Contactanos' %}"><i class="bi bi-telephone-inbound"></i> Contáctanos</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <p><H1 style="text-align: center;  ">¡Bienvenidos a Pinponcitos!</H1></p>
        <div id="carouselE1" class="carousel slide" data-bs-ride="carousel">

                <!--
                    Aqui se crean los indicadores de las imagenes
                -->
                <div class="carousel-indicators">
                        
                        <button type="button" data-bs-target="#carouselE1"
                        data-bs-slide-to="0" class="active" aria-current="true" 
                        aria-label="Slide 1"
                        ></button>
    
                        <button type="button" data-bs-target="#carouselE1"
                        data-bs-slide-to="1"  
                        aria-label="Slide 2"
                        ></button>
    
                        <button type="button" data-bs-target="#carouselE1"
                        data-bs-slide-to="2"   
                        aria-label="Slide 3"
                        ></button>
                </div>

                   
                <!-- Aqui se crean las imagenes del carrusel-->
                
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="{% static 'Imagenes/ropa1.png' %}" class="d-block w-100 carousel-image" alt="ropa1">
                    </div>
                    <div class="carousel-item">
                        <img src="{%static 'Imagenes/ropa2.png' %}" class="d-block w-100 carousel-image" alt="ropa2">
                    </div>
                    <div class="carousel-item">
                        <img src="{%static 'Imagenes/juego.png' %}" class="d-block w-100 carousel-image" alt="juego">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselE1"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselE1"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
        </div>
        <div id="parrafos">
            <p>
                <b>Pinponcitos</b> es una página la cual se basa principalmente en la 
                venta de ropa y juguetes para niños, en la cual se busca que los 
                niños tengan una experiencia agradable al momento de usar los productos y 
                que los padres puedan encontrar lo que buscan para sus hijos.
            </p>
                <p>En la página se pueden encontrar productos de calidad y a un precio accesible. <br>
                <b>En nuestro menú podrás encontrar más información sobre nosotros y nuestra galería de productos.</b>
                </p>
        </div>
        <div id="oferta">
        <p><H1 style="text-align: center;  ">¡Oferta imperdible!</H1></p>
        <div id="sorteo">
            <div id="reloj">
                <p><span id="dias"></span><br>Días</p>
                <p>:</p>
                <p><span id="horas"></span><br>Horas</p>
                <p>:</p>
                <p><span id="minutos"></span><br>Minutos</p>
                <p>:</p>
                <p><span id="segundos"></span><br>Segundos</p>
            </div>
            <br>
                <p id="sorteo-texto">¡No te pierdas nuestra nueva oferta!<br>Solo por el tiempo mostrado en pantalla.<br>¡Haz tu pedido ya!</p>
        </div>
        </div> 
        <script>
            const getRemainTime = deadline => {//Función que recibe la fecha límite
            let now = new Date(),//Fecha actual
                remainTime = (new Date(deadline) - now + 1000) / 1000,//Tiempo restante para fecha limite se divide entre 1000 para obtener segundos ya que esta en milisegundos y en segundos facilita mas la operacion
                remainSeconds = ('0' + Math.floor(remainTime % 60)).slice(-2),//Se obtienen los segundos restantes (Se agrega 0 al inicio y se toman los últimos 2 dígitos para que siempre sean 2 dígitos)
                remainMinutes = ('0' + Math.floor(remainTime / 60 % 60)).slice(-2),//Se obtienen los minutos restantes (60 segundos en un minuto)
                remainHours = ('0' + Math.floor(remainTime / 3600 % 24)).slice(-2),//Se obtienen las horas restantes (3600 segundos en una hora y 24 horas en un día)
                remainDays = Math.floor(remainTime / (3600 * 24));//Se obtienen los días restantes (3600 segundos en una hora y 24 horas en un día)
    
            return {
                remainTime,
                remainSeconds,
                remainMinutes,
                remainHours,
                remainDays
            }
            }
    
            const countdown = (deadline) => {//Función que recibe la fecha límite, el elemento donde se mostrará el contador y el mensaje final
                const elDays = document.getElementById('dias');
                const elHours = document.getElementById('horas');
                const elMinutes = document.getElementById('minutos');
                const elSeconds = document.getElementById('segundos');
                let timerUpdate;//Variable para almacenar el intervalo
                const updateCountdown = () => {//Función que actualiza el contador
                    let t = getRemainTime(deadline);//Se obtiene el tiempo restante
                    console.log(t);
                    elDays.innerHTML = ` ${t.remainDays}`;//Se muestra el tiempo restante en el elemento
                    elHours.innerHTML = ` ${t.remainHours}`;
                    elMinutes.innerHTML = ` ${t.remainMinutes}`;
                    elSeconds.innerHTML = ` ${t.remainSeconds}`;
                if(t.remainTime <= 0) {//Si el tiempo restante es menor o igual a 0
                    clearInterval(timerUpdate);//Se detiene el intervalo
                    let sorteoDiv = document.getElementById('oferta');//Se obtiene el elemento donde se mostrará el sorteo
                    sorteoDiv.style.display = 'none';//Se oculta el sorteo
                }
                }
                updateCountdown(); // Llama a la función de actualización una vez antes de iniciar el intervalo
    
                timerUpdate = setInterval(updateCountdown, 1000);
            }
    
            countdown('2024-07-20T23:59:59','America/Santiago');//Se llama a la función countdown con la fecha límite, el elemento donde se mostrará el contador y el mensaje final
        </script>
</body>
</html>
{% endblock %}
